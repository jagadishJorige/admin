"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[521],{9521:(y,m,i)=>{i.r(m),i.d(m,{LoginModule:()=>w});var a=i(6814),s=i(95),l=i(5219),o=i(4946),p=i(593),c=i(7921),h=i(6306),b=i(8504),C=i(9862);let v=(()=>{class t{constructor(r){this.http=r,this.baseUrl="http://18.216.174.99:3000/"}login(r){return this.http.post(this.baseUrl+"users/auth/login",r).pipe((0,c.X)(1),(0,h.K)(this.handleError))}handleError(r){let e="";return e=r.error instanceof ErrorEvent?`Error: ${r.error.message}`:`Error Code: ${r.status}\nMessage: ${r.message}`,(0,b._)(e)}static#o=this.\u0275fac=function(e){return new(e||t)(o.LFG(C.eN))};static#t=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var f=i(4104);function x(t,u){1&t&&(o.TgZ(0,"span",14),o._uU(1,"email is required"),o.qZA())}function Z(t,u){1&t&&(o.TgZ(0,"span",14),o._uU(1,"email is invalid"),o.qZA())}function M(t,u){1&t&&(o.TgZ(0,"span",15),o._uU(1,"password is required"),o.qZA())}const P=[{path:"",component:(()=>{class t{constructor(r,e,n,g,d){this.fb=r,this.router=e,this.loginService=n,this.messageService=g,this.document=d,this.submitted=!1,this.localStorage=d.defaultView?.localStorage,this.form=this.fb.group({email:["",s.kI.compose([s.kI.email,s.kI.required])],password:["",s.kI.required]})}onSubmit(){this.submitted=!0,this.form.valid&&this.loginService.login(this.form.value).subscribe(r=>{console.log(r),r&&r.token&&(this.router.navigate(["pages/home"]),localStorage.setItem("token",`JWT ${r.token}`))},r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Invalid Cred"})})}get formControls(){return this.form.controls}static#o=this.\u0275fac=function(e){return new(e||t)(o.Y36(s.qu),o.Y36(p.F0),o.Y36(v),o.Y36(l.ez),o.Y36(a.K0))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],features:[o._Bn([l.ez])],decls:21,vars:4,consts:[[1,"row"],[1,"col-md-12","main-cover"],[1,"card-cover","col-xl-4","col-md-6","col-10","mx-auto"],[1,"card-body"],[1,"login-form",3,"formGroup","submit"],[1,"header"],[1,"form-group"],["for","username",1,"form-label","login-form-label"],["formControlName","email","type","email","placeholder","Email or Phone","id","username",1,"form-control","login-form-input"],["class","mt-2",4,"ngIf"],["for","password",1,"form-label","login-form-label"],["formControlName","password","type","password","placeholder","Password","id","password",1,"form-control","login-form-input"],["class","mt-3",4,"ngIf"],["type","submit",1,"btn","login-form-button"],[1,"mt-2"],[1,"mt-3"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"p-toast"),o.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"form",4),o.NdJ("submit",function(){return n.onSubmit()}),o.TgZ(6,"h3",5),o._uU(7,"Login Here"),o.qZA(),o.TgZ(8,"div",6)(9,"label",7),o._uU(10,"Username"),o.qZA(),o._UZ(11,"input",8),o.YNc(12,x,2,0,"span",9),o.YNc(13,Z,2,0,"span",9),o.qZA(),o.TgZ(14,"div",6)(15,"label",10),o._uU(16,"Password"),o.qZA(),o._UZ(17,"input",11),o.YNc(18,M,2,0,"span",12),o.qZA(),o.TgZ(19,"button",13),o._uU(20,"Log In"),o.qZA()()()()()()),2&e&&(o.xp6(5),o.Q6J("formGroup",n.form),o.xp6(7),o.Q6J("ngIf",n.submitted&&(null==n.formControls||null==n.formControls.email||null==n.formControls.email.errors?null:n.formControls.email.errors.required)),o.xp6(1),o.Q6J("ngIf",n.submitted&&(null==n.formControls||null==n.formControls.email||null==n.formControls.email.errors?null:n.formControls.email.errors.email)),o.xp6(5),o.Q6J("ngIf",n.submitted&&(null==n.formControls||null==n.formControls.password||null==n.formControls.password.errors?null:n.formControls.password.errors.required)))},dependencies:[f.FN,a.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".login-form[_ngcontent-%COMP%]{height:520px;width:400px;background-color:#ffffff21;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;border-radius:10px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid rgba(255,255,255,.1);box-shadow:0 0 40px #08071099;padding:50px 35px}.login-form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#fe074e;letter-spacing:.5px;outline:none;border:none}.login-form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:32px;font-weight:500;line-height:42px;text-align:center;font-weight:700}.login-form-label[_ngcontent-%COMP%]{display:block;margin-top:30px;font-size:16px;font-weight:500}.login-form-input[_ngcontent-%COMP%]{display:block;height:50px;width:100%;background-color:#ffffff12;border-radius:3px;padding:0 10px;margin-top:8px;font-size:14px;font-weight:300;border:1px solid #333333!important}.login-form-button[_ngcontent-%COMP%]{margin-top:50px;width:100%;background-color:#fe074e!important;color:#fff!important;padding:15px 0;font-size:18px;font-weight:600;border-radius:5px;cursor:pointer}.social[_ngcontent-%COMP%]{margin-top:30px;display:flex}.social[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:150px;border-radius:3px;padding:5px 10px 10px 5px;color:#eaf0fb;text-align:center;background-color:#fe074e!important}.social[_ngcontent-%COMP%]   .fb[_ngcontent-%COMP%]{margin-left:25px}.social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}"]})}return t})(),pathMatch:"full"}];let w=(()=>{class t{static#o=this.\u0275fac=function(e){return new(e||t)};static#t=this.\u0275mod=o.oAB({type:t});static#r=this.\u0275inj=o.cJS({providers:[l.ez,l.YP],imports:[f.EV,a.ez,p.Bz.forChild(P),s.UX]})}return t})()}}]);